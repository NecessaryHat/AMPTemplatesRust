[
    {
        "UpdateStageName": "Wipe Server Files",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "Executable",
        "UpdateSourceData": "/bin/bash",
        "UpdateSourceArgs": "-c \"cd \\\"{{$FullBaseDir}}server/{{serveridentity}}\\\" && rm -f *.map *.sav* {{ModDBWipelist}} >/dev/null 2>&1; cd \\\"{{$FullBaseDir}}carbon/data\\\" >/dev/null 2>&1 && rm -f {{CarbonOxideDataWipelist}} >/dev/null 2>&1; cd \\\"{{$FullBaseDir}}oxide/data\\\" >/dev/null 2>&1 && rm -f {{CarbonOxideDataWipelist}} >/dev/null 2>&1\"",
        "UpdateSourceConditionSetting": "EnableWipe",
        "UpdateSourceConditionValue": "true",
        "SkipOnFailure": true
    },
    {
        "UpdateStageName": "Wipe Server Files",
        "UpdateSourcePlatform": "Windows",
        "UpdateSource": "Executable",
        "UpdateSourceData": "cmd.exe",
        "UpdateSourceArgs": "/C cd \"{{$FullBaseDir}}server\\{{serveridentity}}\" && del /Q /F *.map *.sav* {{ModDBWipelist}} > NUL 2>&1 & cd \"{{$FullBaseDir}}carbon\\data\" > NUL 2>&1 && del /Q /F {{CarbonOxideDataWipelist}} > NUL 2>&1 & cd \"{{$FullBaseDir}}oxide\\data\" > NUL 2>&1 && del /Q /F {{CarbonOxideDataWipelist}} > NUL 2>&1",
        "UpdateSourceConditionSetting": "EnableWipe",
        "UpdateSourceConditionValue": "true",
        "SkipOnFailure": true
    },
    {
        "UpdateStageName": "Remove Carbon",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "Executable",
        "UpdateSourceData": "/bin/bash",
        "UpdateSourceArgs": "-c \"cd ./rust/258550 && rm -rf carbon carbon.sh libdoorstop.so >/dev/null 2>&1\"",
        "UpdateSourceConditionSetting": "ModLoader",
        "UpdateSourceConditionValue": "umod",
        "SkipOnFailure": true
    },
    {
        "UpdateStageName": "Remove Carbon",
        "UpdateSourcePlatform": "Windows",
        "UpdateSource": "Executable",
        "UpdateSourceData": "cmd.exe",
        "UpdateSourceArgs": "/C cd rust\\258550 && del /Q /F doorstop_config.ini winhttp.dll > NUL 2>&1 && rd /S /Q carbon > NUL 2>&1",
        "UpdateSourceConditionSetting": "ModLoader",
        "UpdateSourceConditionValue": "umod",
        "SkipOnFailure": true
    },
    {
        "UpdateStageName": "Remove Carbon",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "Executable",
        "UpdateSourceData": "/bin/bash",
        "UpdateSourceArgs": "-c \"cd ./rust/258550 && rm -rf carbon carbon.sh libdoorstop.so >/dev/null 2>&1\"",
        "UpdateSourceConditionSetting": "ModLoader",
        "UpdateSourceConditionValue": "none",
        "SkipOnFailure": true
    },
    {
        "UpdateStageName": "Remove Carbon",
        "UpdateSourcePlatform": "Windows",
        "UpdateSource": "Executable",
        "UpdateSourceData": "cmd.exe",
        "UpdateSourceArgs": "/C cd rust\\258550 && del /Q /F doorstop_config.ini winhttp.dll > NUL 2>&1 && rd /S /Q carbon > NUL 2>&1",
        "UpdateSourceConditionSetting": "ModLoader",
        "UpdateSourceConditionValue": "none",
        "SkipOnFailure": true
    },
    {
        "UpdateStageName": "Remove uMod",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "Executable",
        "UpdateSourceData": "/bin/bash",
        "UpdateSourceArgs": "-c \"cd ./rust/258550 && rm -rf oxide Oxide.Compiler compiler*.log RustDedicated_Data/Managed/Oxide* >/dev/null 2>&1\"",
        "UpdateSourceConditionSetting": "ModLoader",
        "UpdateSourceConditionValue": "carbon",
        "SkipOnFailure": true
    },
    {
        "UpdateStageName": "Remove uMod",
        "UpdateSourcePlatform": "Windows",
        "UpdateSource": "Executable",
        "UpdateSourceData": "cmd.exe",
        "UpdateSourceArgs": "/C cd rust\\258550 && del /Q /F Oxide.Compiler.exe compiler*.log RustDedicated_Data\\Managed\\Oxide* > NUL 2>&1 && rd /S /Q oxide > NUL 2>&1",
        "UpdateSourceConditionSetting": "ModLoader",
        "UpdateSourceConditionValue": "carbon",
        "SkipOnFailure": true
    },
    {
        "UpdateStageName": "Remove uMod",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "Executable",
        "UpdateSourceData": "/bin/bash",
        "UpdateSourceArgs": "-c \"cd ./rust/258550 && rm -rf oxide Oxide.Compiler compiler*.log RustDedicated_Data/Managed/Oxide* >/dev/null 2>&1\"",
        "UpdateSourceConditionSetting": "ModLoader",
        "UpdateSourceConditionValue": "none",
        "SkipOnFailure": true
    },
    {
        "UpdateStageName": "Remove uMod",
        "UpdateSourcePlatform": "Windows",
        "UpdateSource": "Executable",
        "UpdateSourceData": "cmd.exe",
        "UpdateSourceArgs": "/C cd rust\\258550 && del /Q /F Oxide.Compiler.exe compiler*.log RustDedicated_Data\\Managed\\Oxide* > NUL 2>&1 && rd /S /Q oxide > NUL 2>&1",
        "UpdateSourceConditionSetting": "ModLoader",
        "UpdateSourceConditionValue": "none",
        "SkipOnFailure": true
    },
    {
        "UpdateStageName": "Rust Download",
        "UpdateSourcePlatform": "All",
        "UpdateSource": "SteamCMD",
        "UpdateSourceData": "258550",
        "UpdateSourceArgs": "252490",
        "UpdateSourceVersion": "{{ServerBranch}}",
        "SkipOnFailure": false
    },
    {
        "UpdateStageName": "Carbon Download",
        "UpdateSourcePlatform": "Windows",
        "UpdateSource": "FetchURL",
        "UpdateSourceData": "https://github.com/CarbonCommunity/Carbon/releases/download/production_build/Carbon.Windows.Release.zip",
        "UpdateSourceTarget": "{{$FullBaseDir}}",
        "UnzipUpdateSource": true,
        "OverwriteExistingFiles": true,
        "UpdateSourceConditionSetting": "ModLoader",
        "UpdateSourceConditionValue": "carbon",
        "DeleteAfterExtract": true
    },
    {
        "UpdateStageName": "Carbon Download",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "FetchURL",
        "UpdateSourceData": "https://github.com/CarbonCommunity/Carbon/releases/download/production_build/Carbon.Linux.Release.tar.gz",
        "UpdateSourceTarget": "{{$FullBaseDir}}",
        "UnzipUpdateSource": true,
        "OverwriteExistingFiles": true,
        "UpdateSourceConditionSetting": "ModLoader",
        "UpdateSourceConditionValue": "carbon",
        "DeleteAfterExtract": true
    },
    {
        "UpdateStageName": "uMod Download",
        "UpdateSourcePlatform": "Windows",
        "UpdateSource": "GithubRelease",
        "UpdateSourceArgs": "OxideMod/Oxide.Rust",
        "UpdateSourceData": "Oxide.Rust.zip",
        "UpdateSourceTarget": "{{$FullBaseDir}}",
        "UnzipUpdateSource": true,
        "OverwriteExistingFiles": true,
        "UpdateSourceConditionSetting": "ModLoader",
        "UpdateSourceConditionValue": "umod",
        "DeleteAfterExtract": true
    },
    {
        "UpdateStageName": "uMod Download",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "GithubRelease",
        "UpdateSourceArgs": "OxideMod/Oxide.Rust",
        "UpdateSourceData": "Oxide.Rust-linux.zip",
        "UpdateSourceTarget": "{{$FullBaseDir}}",
        "UnzipUpdateSource": true,
        "OverwriteExistingFiles": true,
        "UpdateSourceConditionSetting": "ModLoader",
        "UpdateSourceConditionValue": "umod",
        "DeleteAfterExtract": true
    }
    {
        "UpdateStageName": "Carbon Edge/Develop Download",
        "UpdateSourcePlatform": "Windows",
        "UpdateSource": "FetchURL",
        "UpdateSourceData": "https://github.com/CarbonCommunity/Carbon/releases/download/edge_build/Carbon.Windows.Debug.zip",
        "UpdateSourceTarget": "{{$FullBaseDir}}",
        "UnzipUpdateSource": true,
        "OverwriteExistingFiles": true,
        "UpdateSourceConditionSetting": "ModLoader",
        "UpdateSourceConditionValue": "carbon_edge",
        "DeleteAfterExtract": true
    },
    {
        "UpdateStageName": "Carbon Edge/Develop Download",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "FetchURL",
        "UpdateSourceData": "https://github.com/CarbonCommunity/Carbon/releases/download/edge_build/Carbon.Linux.Debug.tar.gz",
        "UpdateSourceTarget": "{{$FullBaseDir}}",
        "UnzipUpdateSource": true,
        "OverwriteExistingFiles": true,
        "UpdateSourceConditionSetting": "ModLoader",
        "UpdateSourceConditionValue": "carbon_edge",
        "DeleteAfterExtract": true
    },
    {
        "UpdateStageName": "Carbon Staging Download",
        "UpdateSourcePlatform": "Windows",
        "UpdateSource": "FetchURL",
        "UpdateSourceData": "https://github.com/CarbonCommunity/Carbon/releases/download/rustbeta_staging_build/Carbon.Windows.Debug.zip",
        "UpdateSourceTarget": "{{$FullBaseDir}}",
        "UnzipUpdateSource": true,
        "OverwriteExistingFiles": true,
        "UpdateSourceConditionSetting": "ModLoader",
        "UpdateSourceConditionValue": "carbon_staging",
        "DeleteAfterExtract": true
    },
    {
        "UpdateStageName": "Carbon Staging Download",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "FetchURL",
        "UpdateSourceData": "https://github.com/CarbonCommunity/Carbon/releases/download/rustbeta_staging_build/Carbon.Linux.Debug.tar.gz",
        "UpdateSourceTarget": "{{$FullBaseDir}}",
        "UnzipUpdateSource": true,
        "OverwriteExistingFiles": true,
        "UpdateSourceConditionSetting": "ModLoader",
        "UpdateSourceConditionValue": "carbon_staging",
        "DeleteAfterExtract": true
    },
    {
        "UpdateStageName": "Carbon Aux01 Download",
        "UpdateSourcePlatform": "Windows",
        "UpdateSource": "FetchURL",
        "UpdateSourceData": "https://github.com/CarbonCommunity/Carbon/releases/download/rustbeta_aux01_build/Carbon.Windows.Debug.zip",
        "UpdateSourceTarget": "{{$FullBaseDir}}",
        "UnzipUpdateSource": true,
        "OverwriteExistingFiles": true,
        "UpdateSourceConditionSetting": "ModLoader",
        "UpdateSourceConditionValue": "carbon_aux01",
        "DeleteAfterExtract": true
    },
    {
        "UpdateStageName": "Carbon Aux01 Download",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "FetchURL",
        "UpdateSourceData": "https://github.com/CarbonCommunity/Carbon/releases/download/rustbeta_aux01_build/Carbon.Linux.Debug.tar.gz",
        "UpdateSourceTarget": "{{$FullBaseDir}}",
        "UnzipUpdateSource": true,
        "OverwriteExistingFiles": true,
        "UpdateSourceConditionSetting": "ModLoader",
        "UpdateSourceConditionValue": "carbon_aux01",
        "DeleteAfterExtract": true
    },
    {
        "UpdateStageName": "Carbon Aux02 Download",
        "UpdateSourcePlatform": "Windows",
        "UpdateSource": "FetchURL",
        "UpdateSourceData": "https://github.com/CarbonCommunity/Carbon/releases/download/rustbeta_aux02_build/Carbon.Windows.Debug.zip",
        "UpdateSourceTarget": "{{$FullBaseDir}}",
        "UnzipUpdateSource": true,
        "OverwriteExistingFiles": true,
        "UpdateSourceConditionSetting": "ModLoader",
        "UpdateSourceConditionValue": "carbon_aux02",
        "DeleteAfterExtract": true
    },
    {
        "UpdateStageName": "Carbon Aux02 Download",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "FetchURL",
        "UpdateSourceData": "https://github.com/CarbonCommunity/Carbon/releases/download/rustbeta_aux02_build/Carbon.Linux.Debug.tar.gz",
        "UpdateSourceTarget": "{{$FullBaseDir}}",
        "UnzipUpdateSource": true,
        "OverwriteExistingFiles": true,
        "UpdateSourceConditionSetting": "ModLoader",
        "UpdateSourceConditionValue": "carbon_aux02",
        "DeleteAfterExtract": true
    }
]
